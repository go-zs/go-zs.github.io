---
title: golang系列(17)--sort包
date: 2020-01-27 10:12:08
tags:
- golang
categories:
- golang
---

golang中`sort`包提供了常用的排序功能，`sort`包中实现了３种基本的排序算法：插入排序．快排和堆排序。

<!-- more -->

## sort Interface

任何实现了 `sort.Interface` 的数据容器都可以调用`sort`包完成排序。

`sort.Interface`定义如下，需要实现3个方法。

```golang
type Interface interface {
	Len() int  // 容器长度
	Less(i, j int) bool  // 大小比较
	Swap(i, j int)  // 元素交换
}
```

通用排序函数 `sort.Sort`

```golang
func Sort(data Interface) {
	n := data.Len()
	quickSort(data, 0, n, maxDepth(n))
}
```


## 调用示例

我们只需要对一个 `struct` 实现 `sort.Interface` 这个接口即可

```golang
package main

import (
	"fmt"
	"sort"
)

type Arr [][]int

func (this *Arr) Len() int {
	return len(*this)
}

func (this *Arr) Swap(i, j int) {
	(*this)[i], (*this)[j] = (*this)[j], (*this)[i]
}

// 以第一个元素作升序
func (this *Arr) Less(i, j int) bool {
	return (*this)[i][0] < (*this)[j][0]
}

func main() {
	arr := Arr([][]int{
		{1, 2, 3},
		{0, 11, 33},
		{21, 6, 8},
	})
	sort.Sort(&arr)
	fmt.Println(arr)
}

// output
// [[0 11 33] [1 2 3] [21 6 8]]

```